# Pythonç¯å¢ƒé…ç½®

## ğŸ¯ æ ¸å¿ƒç†å¿µ: é…ç½®å³ä»£ç  (IaC)
æœ¬ä»“åº“æ˜¯æˆ‘ç”¨äºè·¨è®¾å¤‡ç®¡ç† Python å¼€å‘ç¯å¢ƒçš„å£°æ˜å¼é…ç½®æ–‡ä»¶é›†ã€‚é€šè¿‡ **â€œé…ç½®å³ä»£ç â€** çš„ç†å¿µï¼Œç¡®ä¿ä¸åŒç‰©ç†æœºã€æœåŠ¡å™¨ä¸å®¹å™¨ä¹‹é—´çš„å¼€å‘ç¯å¢ƒé«˜åº¦ä¸€è‡´ã€‚

**çº¦å®šåšæ³•: é‡å»ºèƒœäºä¿®æ”¹ (Rebuild over Patch)**

å½“ä¾èµ–å˜æ›´æ—¶ï¼Œéµå¾ª **â€œé”€æ¯ -> é‡å»ºâ€** çš„åŸåˆ™ã€‚ç¦æ­¢æ‰‹åŠ¨é€šè¿‡å‘½ä»¤å¢é‡ä¿®æ”¹ç¯å¢ƒï¼Œæ‰€æœ‰ä¿®æ”¹å¿…é¡»åœ¨é…ç½®æ–‡ä»¶ä¸­å®ç°ï¼Œä»¥ç¡®ä¿ç¯å¢ƒçš„**å¹‚ç­‰æ€§** ä¸**çº¯å‡€åº¦**ã€‚


## ğŸš€ä»“åº“ç°çŠ¶: å…¨é¢è½¬å‘ç°ä»£å·¥å…·é“¾
> **é‡è¦æ›´æ–°ï¼š** æœ¬ä»“åº“æ­£å¤„äºæ¶æ„è¿ç§»é˜¶æ®µã€‚ç»è¿‡æ·±åº¦è¯„ä¼°ï¼Œæˆ‘å†³å®šå°†ç¯å¢ƒç®¡ç†é‡å¿ƒä»ä¼ ç»Ÿçš„ Conda/Pip è½¬å‘ä»¥ **uv** ä¸ºæ ¸å¿ƒçš„ç°ä»£å£°æ˜å¼å·¥å…·é“¾ã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© uv & pixi?
- **æè‡´æ€§èƒ½:** åœ¨æˆ‘ç†è§£é›¶æ‹·è´é“¾æ¥å’Œå…¨å±€ç¼“å­˜æœºåˆ¶åï¼Œæˆ‘æ„è¯†åˆ°`uv`æœªæ¥ä¼šæˆä¸º Python ç¤¾åŒºäº‹å®ä¸Šçš„ç®¡ç†æ ‡å‡†ã€‚
- **ç¡®å®šæ€§è¿˜åŸ:** åŸºäº Conda/Pip éš¾ä»¥é€šè¿‡é…ç½®æ–‡ä»¶çš„æ–¹æ³•ï¼Œå³ä½¿é€šè¿‡éš”ç¦»å’Œä¸€æ¬¡æ„å»ºï¼Œä¾ç„¶æ— æ³•å®Œå…¨è¿˜åŸç¯å¢ƒã€‚è€Œ`uv`ä½“ç³»çš„ç°ä»£åŒ–å·¥å…·ç»ˆäºå½»åº•è§£å†³å¹‚ç­‰æ„å»ºã€‚
- **ç§‘å­¦è®¡ç®—å…¼å®¹:** å› ä¸ºæˆ‘ç›®å‰ä¸»è¦ä¸ºç§‘ç ”éœ€æ±‚çš„å…¼å®¹æ€§ï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨ **pixi** å¯¹ **Conda** åè®®è¿›è¡Œæ”¯æŒã€‚æˆ‘å¯¹äºå…¶ä»–å·¥å…·æš‚æ—¶å¤„äºè§‚æœ›çŠ¶æ€ã€‚


## ğŸ› ï¸ ç®¡ç†æ–¹æ³•ä¸ç­–ç•¥
æœ¬ä»“åº“é‡‡ç”¨**å£°æ˜å¼ç¯å¢ƒç®¡ç†**: æ¯å½“é…ç½®å˜åŒ–ï¼Œç›´æ¥é”€æ¯å¹¶é‡å»ºç¯å¢ƒã€‚(åŸæœ¬çš„è®¾å®šå¦‚æ­¤ã€‚)

| å·¥å…· | çŠ¶æ€ | é€‚ç”¨åœºæ™¯ / ä¼˜åŠ¿ |
| --- | --- | --- |
| **uv (é¦–é€‰)** | **Active** | ç°ä»£æ ‡å‡†ï¼Œé€Ÿåº¦æå¿«ï¼Œæ”¯æŒ `pyproject.toml`ï¼Œç”¨äºä¸ªäººé¡¹ç›®ä¸ç”Ÿäº§ã€‚ |
| **pixi** | **Transition** | è¿‡æ¸¡æ–¹æ¡ˆï¼Œç”¨äºå¤„ç†å¤æ‚çš„ç§‘å­¦è®¡ç®—äºŒè¿›åˆ¶ä¾èµ–ã€‚ |
| **conda** | **Legacy** | ä»…ä¸ºç§‘ç ”ä»»åŠ¡ä¿ç•™å…¼å®¹æ€§ï¼Œ**ä¸å†ä¸»åŠ¨æ›´æ–°**ã€‚ |
| **pip/venv** | **Legacy** | åŸºç¡€é€šç”¨æ–¹æ¡ˆï¼Œ**ä¸å†ä¸»åŠ¨æ›´æ–°**ã€‚ |
| **shell** | **Maintenance** | ç”¨äºæœ€å½»åº•çš„æºç ç¼–è¯‘å®‰è£…æˆ–ç³»ç»Ÿçº§åˆå§‹åŒ–ã€‚ |


## ğŸ—ï¸ é¢„æ„å»ºé€šç”¨ç¯å¢ƒ
é’ˆå¯¹ä¸åŒä»»åŠ¡æµï¼Œæˆ‘ç»´æŠ¤äº†ä¸€ç³»åˆ—åŸºç¡€é…ç½®: 
- **agent_env:** ä»¥ LangChain å’Œ LangGraph ä¸ºæ ¸å¿ƒçš„æ™ºèƒ½ä½“å¼€å‘ç¯å¢ƒã€‚
- **dl_env:** æ·±åº¦å­¦ä¹ ç¯å¢ƒï¼Œä¸“æ³¨äº PyTorch æ¨¡å‹è®¾è®¡ä¸è®­ç»ƒã€‚
- **ds_env:** æ•°æ®ç§‘å­¦ç ”ç©¶ï¼ŒåŒ…å«åˆ†æä¸å¯è§†åŒ–ã€‚
- **llm_env:** LLMè¿è¡Œã€éƒ¨ç½²ä¸è®­ç»ƒä¸“ç”¨ç¯å¢ƒã€‚
- **spider_env:** çˆ¬è™«å¼€å‘ä¸è‡ªåŠ¨åŒ–å·¥å…·ã€‚
- **web_env:** åç«¯å¼€å‘åŸºç¡€ç¯å¢ƒã€‚

> æ›´å¤šç‰¹å®šé¡¹ç›®é…ç½®è¯·æŸ¥çœ‹ `specific_projects/` ç›®å½•ã€‚


## å¦‚ä½•ä½¿ç”¨ (Recommended: uv & pixi)
```bash
# ä½¿ç”¨ uv åŒæ­¥é¡¹ç›®ä¾èµ–
uv sync
```

```bash
# ä½¿ç”¨ pixi åˆå§‹åŒ–ç¯å¢ƒ
pixi shell -e dl_env
```


## å¦‚ä½•ä½¿ç”¨ (Legacy: Conda)
ä»¥ä¸‹ä¸ºåŸºäº`conda`é…ç½®çš„ç¤ºä¾‹ï¼Œä¸»è¦åŸå› æ˜¯condaåœ¨ç§‘å­¦è®¡ç®—çš„å½±å“è¿‡äºä¹…è¿œã€‚ä½†æˆ‘åœ¨æœªæ¥æœ‰è®¡åˆ’è¿ç§»è‡³`uv`å’Œ`pixi`ã€‚

### æ£€æŸ¥å·²æœ‰ç¯å¢ƒ
é¦–å…ˆï¼Œæ£€æŸ¥å·²ç»å­˜åœ¨çš„è™šæ‹Ÿç¯å¢ƒã€‚
```shell
conda env list
```

### é‡æ„ç¯å¢ƒ
å¦‚æœæ—§ç¯å¢ƒå­˜åœ¨çš„è¯ï¼Œç§»é™¤å®ƒã€‚
```shell
conda deactivate
conda remove --name ${env_name} --all
```
é‡å»ºç¯å¢ƒã€‚
æ–°ç¯å¢ƒé€šè¿‡é…ç½®æ–‡ä»¶æ„å»ºã€‚
```shell
conda env create -f ./environment.yaml
```

### æ£€æŸ¥å®‰è£…çš„åŒ…
æœ€åï¼Œæ£€æŸ¥ä¾èµ–æ˜¯å¦å·²åœ¨ç¯å¢ƒä¸­ã€‚
```shell
conda activate ${env_name}
conda list
```

> è¿™äº›å‘½ä»¤å¯ä»¥åœ¨ `conda_run.sh` æ–‡ä»¶ä¸­æŸ¥çœ‹ã€‚ 


## ğŸ›£ï¸ è·¯çº¿å›¾
- [x] å¼•å…¥ uv æ›¿æ¢åŸç”Ÿ pip ã€‚
- [x] å¼•å…¥ pixi è§£å†³ç§‘ç ”ç¯å¢ƒçš„å£°æ˜å¼ç®¡ç†ã€‚
- [ ] å°†æ‰€æœ‰é…ç½®è¿ç§»è‡³ pyproject.toml å’Œ pixi.tomlã€‚
- [ ] åŸºäº Docker Dev Containers çš„è¿œç¨‹å¼€å‘é›†æˆï¼Œå½»åº•è§£å†³ç›¸å…³é—®é¢˜çš„æ–¹æ¡ˆã€‚


## ç›¸å…³é¡¹ç›®
æˆ‘ç»´æŠ¤çš„å…¶ä»–å·¥å…·åº“ï¼Œå¯èƒ½å¯¹ä½ æœ‰ç”¨: 
- **[Python-Environment-Configurations](https://github.com/yuliu625/Yu-Python-Environment-Configurations)**: é’ˆå¯¹ Python å·¥å…·é“¾ï¼ˆPip, Conda, UV ç­‰ï¼‰çš„ç¯å¢ƒé…ç½®ä»“åº“ã€‚
- **[Deployment-Toolkit](https://github.com/yuliu625/Yu-Deployment-Toolkit)**: åŸå§‹ OS è„šæœ¬ï¼ˆShell/PowerShellï¼‰çš„å·¥å…·åŒ…åˆé›†ã€‚
- **[CLI-Wrapper](https://github.com/yuliu625/Yu-CLI-Wrapper)**: ç”¨ Python å°è£…çš„å¤æ‚ CLI å·¥å…·é›†ï¼Œè®©æ“ä½œæ›´å®‰å…¨å‹å¥½ã€‚

